import{r as o,g as c,j as e,S as P,b as S,u as $}from"./index-ByfuBfKU.js";const L="_grid__wrapper_dt9t6_12",I="_img_dt9t6_18",D="_video_dt9t6_21",T="_description_dt9t6_24",v={"fluid-video":"_fluid-video_dt9t6_1",grid__wrapper:L,img:I,video:D,description:T};c.registerPlugin(P);const b="/twice/";function F({imgRows:r}){const t=o.useRef([]);function l(){c.utils.toArray(".img-wrapper.right img").forEach(s=>{c.to(s,{clipPath:"polygon(0% 0%, 100% 0, 100% 100%, 0% 100%)",scrollTrigger:{trigger:s,start:"top 75%",end:"bottom 70%",scrub:!0}})}),c.utils.toArray(".img-wrapper.left img").forEach(s=>{c.to(s,{clipPath:"polygon(0% 0%, 100% 0, 100% 100%, 0% 100%)",scrollTrigger:{trigger:s,start:"top 75%",end:"bottom 30%",scrub:!0}})})}return o.useEffect(()=>{function s(n){let i=n.getBoundingClientRect();return i.top>0&&i.left>0&&i.bottom<(window.innerHeight||document.documentElement.clientHeight)&&i.right<(window.innerWidth||document.documentElement.clientWidth)}l(),t.current.forEach(n=>{const i=n.querySelector("img");s(n)&&c.to(i,{clipPath:"polygon(0% 0%, 100% 0, 100% 100%, 0% 100%)"})})},[]),e.jsx("div",{className:"container img-reveal mx-auto my-5 px-4 px-sm-0 px-md-5 ",children:r.map((s,n)=>e.jsx(A,{row:s,index:n,rowsRef:t},n))})}function A({row:r,index:t,rowsRef:l}){return e.jsx("div",{ref:s=>l.current[t]=s,className:"row justify-content-lg-center gap-lg-3",children:r.position==="left"?z(r):M(r)})}function z(r){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col col-lg-5",children:e.jsx("div",{className:"img-wrapper left text-end",children:e.jsx("img",{src:`${b}${r.src}`,className:"w-100",alt:r.alt,loading:"lazy"})})}),e.jsx("div",{className:"col col-lg-5"})]})}function M(r){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col col-lg-5"}),e.jsx("div",{className:"col col-lg-5",children:e.jsx("div",{className:"img-wrapper right",children:e.jsx("img",{src:`${b}${r.src}`,className:"w-100",alt:r.alt,loading:"lazy"})})})]})}const O="_img__wrapper_u5b62_5",E={"smooth-image-drag__wrapper":"_smooth-image-drag__wrapper_u5b62_1",img__wrapper:O},W="/twice/";function X({imagesArray:r}){return r.map(t=>e.jsx("div",{className:`${E.img__wrapper}`,draggable:!1,children:e.jsx("img",{src:`${W}${t.src}`,alt:t.alt,className:"h-100 w-100 object-fit-cover"})},t.id))}function k({imagesArray:r}){const t=o.useRef(null),l=o.useRef(0),s=o.useRef(0),n=o.useRef(0);return o.useEffect(()=>{const i=t.current,m=u=>{var a,g;u.preventDefault(),l.current=u.clientX||((g=(a=u.touches)==null?void 0:a[0])==null?void 0:g.clientX)||0},d=()=>{l.current=0,s.current=n.current},w=u=>{var f,j;if(l.current===0)return;const a=u.clientX??((j=(f=u.touches)==null?void 0:f[0])==null?void 0:j.clientX),g=l.current-a,x=window.innerWidth/2;let h=g/x*-100,p=s.current+h;p=Math.max(Math.min(p,0),-100),n.current=p,i.animate({translate:`${p}% 0`},{duration:1200,fill:"forwards"});for(const _ of i.getElementsByTagName("img"))_.animate({objectPosition:`${p+100}% center`},{duration:1200,fill:"forwards"})};return window.addEventListener("mousedown",m),window.addEventListener("mouseup",d),window.addEventListener("mousemove",w),window.addEventListener("touchstart",m),window.addEventListener("touchend",d),window.addEventListener("touchmove",w),()=>{window.removeEventListener("mousedown",m),window.removeEventListener("mouseup",d),window.removeEventListener("mousemove",w),window.removeEventListener("touchstart",m),window.removeEventListener("touchend",d),window.removeEventListener("touchmove",w)}},[]),e.jsx("div",{className:"smooth-image-drag vh-100 position-relative overflow-hidden ",children:e.jsx("div",{ref:t,className:`${E["smooth-image-drag__wrapper"]} d-flex p-3 gap-5 position-absolute top-50 start-50 translate-middle-y`,children:e.jsx(X,{imagesArray:r})})})}const B=({width:r,aspectRatio:t,src:l})=>{const s=o.useRef(null),n=c.utils.selector(s);let i={width:r,aspectRatio:t};return o.useEffect(()=>{c.set(n(".img-slice"),{opacity:0});const m=new IntersectionObserver(d=>{d.forEach(w=>{w.isIntersecting&&(c.to(n(".img-slice"),{opacity:1,duration:1,stagger:.04,ease:"power4.out"}),m.unobserve(w.target))})},{threshold:.9});return s.current&&m.observe(s.current),()=>m.disconnect()},[n]),e.jsx("div",{ref:s,style:i,className:"mx-auto mt-5 row row-cols-4",children:Array.from({length:16}).map((m,d)=>e.jsx(H,{src:l},d))})},H=({src:r})=>{const t={background:`url("${r}") center center/cover no-repeat fixed`};return e.jsx("div",{style:t,className:"img-slice col"})},V="_letters__wrapper_1w48e_2",Y={letters__wrapper:V};function C({text:r}){const t=Array.from(r),l=o.useRef([]),s=o.useRef(null),n=o.useRef(null),i=70,d=(u=>{const a=Math.floor(u/2),g=[];for(let x=0;x<=a;x++){const h=a-x,p=a+x,f=[];h===p?f.push(a):(h>=0&&f.push(h),p<u&&f.push(p)),g.push(f)}return g})(t.length),w=t.map((u,a)=>e.jsx("span",{ref:g=>l.current[a]=g,className:"letter d-block text-center",children:u},a));return o.useEffect(()=>{const u=n.current,a=()=>{const g=window.scrollY;s.current&&(g<500?s.current.classList.add("opacity-0","pe-none","user-select-none"):s.current.classList.remove("opacity-0","pe-none","user-select-none")),d.forEach((x,h)=>{const p=i*h,f=Math.min(1,Math.max(0,(g-p)/i)),j=-f*u.offsetHeight,_=1-f;x.forEach(R=>{const y=l.current[R];y&&c.to(y,{y:j,zIndex:_,duration:.3,ease:"power2.out",overwrite:"auto"})})})};return a(),window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[d,i]),e.jsx(e.Fragment,{children:e.jsx("div",{ref:n,className:`${Y.letters__wrapper} text-uppercase`,children:w})})}const N="/twice/",Q=()=>{let{id:r}=S(),t=$();return e.jsxs(e.Fragment,{children:[e.jsx(C,{text:t.name}),e.jsx(G,{title:t.title}),e.jsx(q,{src:t.fullPage.fluidVideo}),e.jsx("section",{className:"px-3 px-sm-4  mt-5",children:e.jsx(U,{offerings:t.fullPage.offerings,text:t.fullPage.desc,textSp:t.fullPage.descSp})}),t.fullPage.imgReveal&&e.jsx(F,{imgRows:t.fullPage.imgReveal.imgRows}),e.jsx(J,{wrapperTitle:t.fullPage.gridSection.wrapperTitle,wrapperDescription:t.fullPage.gridSection.wrapperDescription,videoSrc:t.fullPage.gridSection.videoSrc,imgSrc:`${N}${t.fullPage.gridSection.imgSrc}`,title:t.fullPage.gridSection.title,text:t.fullPage.gridSection.text}),t.fullPage.imgDrag&&e.jsx(k,{imagesArray:t.fullPage.imgDrag.imagesArray}),t.fullPage.slicedImage&&e.jsx(B,{width:"min(90vw , 220px)",aspectRatio:"9 / 16",src:`${N}${t.fullPage.slicedImage.src}`}),e.jsx("div",{style:{height:"30vh"}})]})},q=({src:r})=>e.jsx("div",{className:`${v["fluid-video"]}  `,children:e.jsx("iframe",{src:r,width:"640",height:"360",frameBorder:"0",allowFullScreen:"",allow:"autoplay; encrypted-media","data-ready":"true",className:"uts-fluid rounded-2",loading:"eager"})}),G=({title:r})=>e.jsx("span",{className:"text-uppercase display-1 d-block text-center my-5",children:r}),U=({offerings:r,text:t,textSp:l})=>{const s=o.useRef();return c.registerEffect({name:"TextReveal",effect:(n,i)=>c.to(n,{opacity:1,duration:i.duration,ease:i.ease,stagger:i.stagger,delay:i.delay}),defaults:{duration:.5,ease:"power4.inOut",opacity:1,delay:0,stagger:.2}}),o.useEffect(()=>{const n=c.utils.selector(s);c.set([n("li"),n("p")],{opacity:0});const i=new IntersectionObserver(m=>{m.forEach(d=>{d.isIntersecting&&(c.effects.TextReveal(n("li")),c.effects.TextReveal(n("p"),{delay:1}),i.unobserve(d.target))})},{threshold:.8});return s.current&&i.observe(s.current),()=>i.disconnect()},[]),e.jsxs("div",{ref:s,className:"row offerings flex-column-reverse flex-md-row justify-content-md-between",children:[e.jsxs("div",{className:"col col-md-4 mt-5 mt-md-0 text-uppercase fw-bold",children:[e.jsx("small",{className:"text-warning",children:"we provide"}),e.jsx("ul",{className:"list-unstyled",children:r.map((n,i)=>e.jsx("li",{children:n},i))})]}),e.jsxs("div",{className:"col col-md-5",children:[e.jsx("p",{children:t}),e.jsx("p",{className:"mt-3",children:l})]})]})},J=r=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mt-5 px-3 px-sm-5",children:[e.jsx("span",{className:"text-uppercase fs-1 mb-3 d-inline-block uts-mw-20-ch",children:r.wrapperTitle}),e.jsx("p",{className:"text-capitalize uts-mw-50-ch  mx-auto",children:r.wrapperDescription})]}),e.jsxs("section",{className:`${v.grid__wrapper}  mt-5 px-3 px-sm-5`,children:[e.jsx("div",{className:`${v.video} `,children:e.jsx("video",{className:"uts-fluid object-fit-cover",src:r.videoSrc,autoPlay:!0,loop:!0,muted:!0})}),e.jsxs("div",{className:` ${v.description}  mt-sm-5`,children:[e.jsxs("span",{className:"text-uppercase fw-bold fs-1",children:[" ",r.title," "]}),e.jsxs("p",{className:"mt-3",children:[" ",r.text," "]})]}),e.jsx("div",{className:`${v.img} uts-fluid`,children:e.jsx("img",{className:"uts-fluid",src:r.imgSrc,alt:"img",loading:"lazy"})})]})]});export{Q as default};
